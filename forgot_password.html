{% extends "base.html"%}

{% block content %}
{% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}

<h1>Reset Password</h1>

<h2>Enter Username and New Password.</h2>
<form action="{{url_for('password_reset')}}" method="post">
    {{form.hidden_tag()}}
    <p>
        {{form.username.label}} <br>
        {{form.username(size=32)}} <br>
        {% for error in form.username.errors %}
        <span style="color: red;">[{{error}}]</span>
        {% endfor %}
    </p>
    <p>
        {{form.new_password.label}} <br>
        {{form.new_password(size=32)}} <br>
        {% for error in form.new_password.errors %}
        <span style="color: red;">[{{error}}]</span>
        {% endfor %}
    </p>
    <p>
        {{form.confirm_new.label}} <br>
        {{form.confirm_new(size=32)}} <br>
        {% for error in form.confirm_new.errors %}
        <span style="color: red;">[{{error}}]</span>
        {% endfor %}
    </p>

    <p>{{form.submit()}}</p>
</form>
<p><a href="{{url_for('login')}}">Return to login page</a></p>

{% endblock %}